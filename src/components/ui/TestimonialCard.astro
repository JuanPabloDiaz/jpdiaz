---
import type { GitHubIssueComment } from '@utils/github';
import GitHubIcon from '../../components/icons/GitHubIcon.astro';

interface Props {
	comment: GitHubIssueComment;
}

const { comment } = Astro.props;
const creationDate = new Date(comment.created_at).toLocaleDateString('en-US', {
	year: 'numeric',
	month: 'long',
	day: 'numeric',
});
---

<article class="group relative flex h-full flex-col overflow-hidden rounded-xl border border-gray-200 bg-white transition-all duration-300 hover:shadow-lg dark:border-gray-700 dark:bg-gray-800">
	<div class="flex items-start p-5">
		<img
			src={comment.user.avatar_url}
			alt={`Avatar of ${comment.user.login}`}
			class="mr-4 h-14 w-14 rounded-full border-2 border-gray-100 object-cover shadow-sm dark:border-gray-700"
		/>
		<div class="flex-1">
			<div class="flex items-center justify-between">
				<h3 class="text-xl font-bold text-gray-900 dark:text-white">{comment.user.login}</h3>
				<a 
					href={comment.html_url} 
					target="_blank" 
					rel="noopener noreferrer"
					class="text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300"
					title="View on GitHub"
				>
					<GitHubIcon class="h-5 w-5" />
				</a>
			</div>
			<p class="text-sm text-gray-500 dark:text-gray-400">{creationDate}</p>
		</div>
	</div>
	
	<div class="flex-1 p-5 pt-0">
		<div class="prose prose-sm max-w-none dark:prose-invert" set:html={comment.body} />
	</div>
	
	<div class="mt-auto p-5 pt-2">
		<a
			href={comment.user.html_url}
			target="_blank"
			rel="noopener noreferrer"
			class="inline-flex items-center text-sm font-medium text-blue-600 transition-colors hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300"
		>
			<span class="mr-1 text-xs">ðŸ‘¤</span>
			View Profile
		</a>
	</div>
</article>
