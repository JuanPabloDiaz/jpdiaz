---
import Tags from '@components/ui/Tags.astro';
import SmallCardButtons from '@components/ui/SmallCardButtons.astro';
import GitHubStars from '@components/ui/GitHubStars.astro';
import GitHubContribution from './GitHubContribution.astro';

interface Props {
	title?: string;
	description?: string;
	url?: string;
	github_url?: string;
	alt?: string;
	tags: string[];
	contribution: number;
	children?: HTMLElement | HTMLElement[];
}

const {
	title = 'Project title',
	description = 'Project description',
	url = '#',
	github_url = '#',
	tags = ['Tags'],
	contribution = 0,
} = Astro.props;
---

<main class="group w-full p-4 md:w-1/2 lg:w-1/3">
	<section
		data-testId="card"
		class="relative flex h-28 overflow-hidden rounded-xl bg-white/95 p-2 shadow-lg transition-all duration-300 ease-in-out hover:scale-[1.02] hover:bg-white hover:shadow-xl"
	>
		<article class="relative flex w-10/12 flex-grow flex-col pr-2">
			<h3
				class="text-md transform font-medium text-black/90 transition-all duration-300 ease-in-out group-hover:translate-y-[-100%] group-hover:opacity-0 lg:text-lg"
			>
				{title}
			</h3>
			<p
				class="absolute left-2 top-2 w-[85%] translate-y-full transform text-sm text-black/80 opacity-0 transition-all duration-300 ease-in-out group-hover:translate-y-0 group-hover:opacity-100"
			>
				{description}
			</p>
			<div class="mb-1 mt-auto flex w-full items-center justify-between">
				<div
					class="transform transition-all duration-300 ease-in-out group-hover:translate-y-[100%] group-hover:opacity-0"
				>
					<Tags tags={tags} />
				</div>
				<div
					class="transform transition-all duration-300 ease-in-out group-hover:translate-y-[100%] group-hover:opacity-0"
				>
					<GitHubStars github_url={github_url} small={true} />
				</div>
			</div>
		</article>
		<SmallCardButtons url={url} github_url={github_url} contribution={contribution} />
	</section>
</main>
